# Staging Environment Configuration
# Deploy to staging: cp .env.staging .env.production
# IMPORTANT: Fill in all values before deploying to staging

# ==========================================
# Core Configuration
# ==========================================
NODE_ENV=staging
API_PORT=3333
API_URL=https://api-staging.shalkaar.com

# ==========================================
# Database Configuration (Neon Staging)
# ==========================================
# REQUIRED: Update with your staging database URL
DATABASE_URL=postgresql://user:password@your-staging-host:5432/shalkaarnext_staging
DATABASE_POOL_SIZE=20
DATABASE_TIMEOUT=5000

# ==========================================
# Authentication & JWT (REQUIRED: Generate new secrets)
# ==========================================
# Generate with: openssl rand -base64 32
JWT_SECRET=REPLACE_WITH_STAGING_JWT_SECRET_MINIMUM_32_CHARS
JWT_EXPIRATION=15m
JWT_REFRESH_SECRET=REPLACE_WITH_STAGING_REFRESH_SECRET_MINIMUM_32_CHARS
JWT_REFRESH_EXPIRATION=7d

# ==========================================
# Frontend URLs (REQUIRED: Update domains)
# ==========================================
NEXTAUTH_URL=https://staging.shalkaar.com
NEXTAUTH_SECRET=REPLACE_WITH_STAGING_NEXTAUTH_SECRET_MINIMUM_32_CHARS
ADMIN_NEXTAUTH_URL=https://admin-staging.shalkaar.com
ADMIN_NEXTAUTH_SECRET=REPLACE_WITH_STAGING_ADMIN_SECRET_MINIMUM_32_CHARS

# ==========================================
# Payment Processing (REQUIRED: Stripe Staging)
# ==========================================
PAYMENT_GATEWAY=stripe
STRIPE_SECRET_KEY=sk_test_REPLACE_WITH_YOUR_STAGING_KEY
STRIPE_PUBLISHABLE_KEY=pk_test_REPLACE_WITH_YOUR_STAGING_KEY
STRIPE_WEBHOOK_SECRET=whsec_REPLACE_WITH_YOUR_STAGING_SECRET
PAYMENT_TIMEOUT_MS=30000
PAYMENT_RETRY_ATTEMPTS=3

# ==========================================
# Email Configuration (REQUIRED: Staging Mail Server)
# ==========================================
EMAIL_PROVIDER=smtp
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=SG.REPLACE_WITH_YOUR_SENDGRID_KEY
SMTP_FROM_EMAIL=noreply-staging@shalkaar.com
SMTP_FROM_NAME=SHALKAAR (Staging)
EMAIL_TIMEOUT_MS=10000

# ==========================================
# Webhook Configuration
# ==========================================
WEBHOOK_TIMEOUT_MS=30000
WEBHOOK_RETRY_ATTEMPTS=5
WEBHOOK_RETRY_DELAY_MS=2000

# ==========================================
# Logging & Monitoring (REQUIRED: Sentry)
# ==========================================
LOG_LEVEL=info
SENTRY_DSN=REPLACE_WITH_YOUR_SENTRY_DSN
SENTRY_ENVIRONMENT=staging

# ==========================================
# Frontend Configuration (Public Only)
# ==========================================
NEXT_PUBLIC_API_BASE_URL=https://api-staging.shalkaar.com/api/v1
NEXT_PUBLIC_GA_ID=G-REPLACE_WITH_GA_ID
NEXT_PUBLIC_ENABLE_ANALYTICS=true
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_REPLACE_WITH_YOUR_STAGING_KEY
NEXT_PUBLIC_ADMIN_EMAIL_DOMAIN=@shalkaar.com
NEXT_PUBLIC_ENABLE_ARTISAN_PROGRAM=true
NEXT_PUBLIC_ENABLE_REVIEWS=true
NEXT_PUBLIC_ENABLE_WISHLISTS=true
NEXT_PUBLIC_ENABLE_SUBSCRIPTIONS=false
NEXT_PUBLIC_APP_NAME=SHALKAAR (Staging)
NEXT_PUBLIC_SUPPORT_EMAIL=support@shalkaar.com

# ==========================================
# Security
# ==========================================
CORS_ORIGIN=https://staging.shalkaar.com,https://admin-staging.shalkaar.com
TRUSTED_PROXIES=127.0.0.1,::1,YOUR_LOAD_BALANCER_IP
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=200
